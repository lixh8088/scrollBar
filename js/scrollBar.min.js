!function(a){jQuery.fn.extend({scrollBar:function(t){var o,d,f,b=a.extend({width:1e3,height:300,orient:"v",position:"right",scrollDistance:10,wrapperClass:"ScrollDiv",railClass:"scrollRail",barClass:"scrollBar",keyEvent:!0,barShow:!0,isFadeOut:!1,wrapperBorderColor:"#e1e1e1",barColor:"rgba(0, 0, 0, 0.2)",barSize:8,barRadius:"",railColor:"transparent",railSize:10},t),e="<div></div>",w=this;function i(t,o,e,i){var r,s,a,n,l,c,p,h,u;if(c=f.outerWidth(!0)-d.outerWidth(!0),p=f.outerHeight(!0)-d.outerHeight(!0),1==i)"h"==b.orient?e=d.position().left:"v"==b.orient&&(e=d.position().top),o.wheelDelta?l=0<o.wheelDelta?e-b.scrollDistance:e+b.scrollDistance:o.detail&&(l=0<o.detail?e+b.scrollDistance:e-b.scrollDistance);else if(2==i)r=f.offset(),s=t.pageX-r.left,a=t.pageY-r.top,n=o.pageX-s-r.left+e,l=o.pageY-a-r.top+e;else if(3==i)if("h"==b.orient?e=d.position().left:"v"==b.orient&&(e=d.position().top),"h"==b.orient)switch(o.keyCode){case 37:n=e-b.scrollDistance;break;case 38:l=0;break;case 39:n=e+b.scrollDistance;break;case 40:l=0}else if("v"==b.orient){switch(o.keyCode){case 37:n=0;break;case 38:l=e-b.scrollDistance;break;case 39:n=0;break;case 40:l=e+b.scrollDistance}e=d.position().top}return n<0?n=0:c<n&&(n=c),l<0?l=0:p<l&&(l=p),"h"==b.orient?(h=Math.ceil(n/f.outerWidth(!0)*w.outerWidth(!0)),u=n):"v"==b.orient&&(h=Math.ceil(l/f.outerHeight(!0)*w.outerHeight(!0)),u=l),{scrollDistance:h,barDistance:u}}function r(t){"h"==b.orient?(w.css({left:-t.scrollDistance+"px"}),d.css({left:t.barDistance+"px"})):"v"==b.orient&&(w.css({top:-t.scrollDistance+"px"}),d.css({top:t.barDistance+"px"}))}function s(t){t?d.css({opacity:1}):d.css({opacity:0})}0==a("."+b.wrapperClass).length&&(o=a(e).addClass(b.wrapperClass),f=a(e).addClass(b.railClass),d=a(e).addClass(b.barClass),w.wrap(o),w.parent().append(f),w.parent().append(d)),d=a("."+b.barClass),f=a("."+b.railClass),o=a("."+b.wrapperClass),w.css({position:"absolute",left:0,top:0}),o.css({width:b.width+"px",height:b.height+"px",overflow:"hidden",position:"relative",border:"1px solid "+b.wrapperBorderColor}),d.css({backgroundColor:b.barColor,borderRadius:b.barRadius?b.barRadius+"px":Math.ceil(b.barSize/2)+"px",cursor:"pointer",position:"absolute",transition:"opacity 0.5s"}),f.css({backgroundColor:b.railColor,position:"absolute"}),"h"==b.orient?(f.css({width:b.width+"px",height:b.railSize+"px",left:0,top:"bottom"==b.position?"auto":0,bottom:"bottom"==b.position?0:"auto"}),d.css({height:b.barSize+"px",width:Math.floor(parseInt(b.width)*parseInt(b.width)/w.width()),left:0,right:"auto",top:"bottom"==b.position?"auto":Math.ceil(railSize-barSize)/2+"px",bottom:"bottom"==b.position?Math.ceil(b.railSize-b.barSize)/2+"px":"auto"}),o.width()>=w.outerWidth(!0)?(s(!1),w.width(o.width()),d.css({width:o.width()})):b.barShow?s(!0):s(!1)):"v"==b.orient&&(f.css({width:b.railSize+"px",height:b.height,left:"left"==b.position?0:"auto",right:"left"==b.position?"auto":0,top:0,bottom:"auto"}),d.css({width:b.barSize+"px",height:Math.floor(b.height*b.height/w.outerHeight(!0)),left:"left"==b.position?Math.ceil(b.railSize-b.barSize)/2+"px":"auto",right:"left"==b.position?"auto":Math.ceil(b.railSize-b.barSize)/2+"px",top:0,bottom:"auto"}),o.height()>=w.height()?(s(!1),w.height(o.height()),d.css({height:o.height()})):b.barShow?s(!0):s(!1)),d.on("mousedown",function(o){o.stopPropagation(),o.preventDefault(),a("body").css("cursor","pointer");var e=function(){{if("h"==b.orient)return d.position().left;if("v"==b.orient)return d.position().top}}();a(document).mousemove(function(t){r(i(o,t,e,2))})}),a(document).on("mouseup",function(t){t.stopPropagation(),a(document).off("mousemove"),a("body").css("cursor","default")}).on("mouseleave",function(t){t.stopPropagation(),a(document).off("mousemove"),a("body").css("cursor","default")}),w.on("mouseenter",function(){!b.barShow&&b.isFadeOut&&s(!0)}).on("mouseleave",function(){!b.barShow&&b.isFadeOut&&s(!1)}),w.on("mouseover",function(o){var e;o.stopPropagation(),"h"==b.orient?e=d.position().left:"v"==b.orient&&(e=d.position().top),document.body.onmousewheel=function(t){t.preventDefault(),t=t||window.event,r(i(o,t,e,1))},document.body.addEventListener("DOMMouseScroll",function(t){t.preventDefault(),r(i(o,t,e,1))}),a(document).off("keydown").on("keydown",function(t){b.keyEvent&&(t.preventDefault(),t.stopPropagation(),r(i(o,t,e,3)))})})},scrollBarReset:function(t){this.scrollBar(t)}}),jQuery.fn.extend({scrollBar:jQuery.fn.scrollBar,scrollBarReset:jQuery.fn.scrollBarReset})}(jQuery);